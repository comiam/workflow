import alg;
import simplifier;
import var_parse;
import derivative;

main() -> void {
	alg = readUntil("\n");
	//var = trim(rtrim2(readUntil("\n"), "\n"));
	//vars = readUntil("\n");

	println(ar2s(simplifyTree(s2ar(alg))));
	//println(calcVarRpn(s2rpn(alg), s2vars(vars)));
	//println(calcSimpleRpn(s2rpn(alg)));
	//println(ar2s(ar2diff(s2ar(alg), var)));
}